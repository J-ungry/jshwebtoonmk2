{% extends "nav.html" %}
{% block title %}승환이네 만화방{% endblock %}

{% block content %}

<style>
    .container{
        /* border: 1px solid #000; */
        width:70%;
        padding:20px;
    }
    .li-result{
        /* border: 1px solid #000; */
        /* background-color: #F2f2f2; */
        border-bottom: 1px solid #2a2a2a;
        margin: 20px;
        padding: 20px;
    }
    .ol-result {
        /* border: 1px solid #000; */
        margin-bottom: 30px;
    }
    .li-result:hover{
        background-color: #f2f2f2
    }
    #a-result{
        color: #2a2a2a;
    }
    .result-contents{
        /* border: 1px solid yellow; */
        display: flex;
        padding: 10px;

    }
    .result-text{
        margin:10px;
    }
    .result-text-title-author{
        /* border: 1px solid blue; */
        font-size: 20px;
        font-weight: 700;
    }
    .result-text-intro{
        /* border: 1px solid green; */
        color:#5e5e5e;
        font-size: 15px;
    }
    .titles{
        font-size: 30px;
        font-weight: 700;
    }
    .titles > span{
        color:#FD5D14;
    }

    .blur {
        filter: blur(20px);
        -webkit-filter: blur(20px);

        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        pointer-events: none;
    }

    /* .div-blur-alert{
        border: 2px solid #000;
        position: fixed; top: 10%; left: 50%; transform: translate(-50%, -50%);
        font-size: 25px;
        width: 60%;
        text-align: center;
        background-color: rgb(107, 106, 106);
        color: #fff;
        padding: 20px;
        border-radius: 10px;
    } */
    .div-blur-alert{
        text-align: center;
        position:fixed; 
        width:500px;
        display:inline-block;
        top:70%; 
        background-color: transparent;
        margin:0;

        
        position: fixed; left: 50%; transform: translate(-50%, -50%);
        border-radius: 5px;
        background-color: #fff;
        box-shadow: 5px 5px 30px #ddd;
        z-index: 1;
    }
    .div-first{
        margin: 20px;
        padding: 20px;
        border-bottom: 0.5px solid #e2e2e2;
        color: #a06768;
    }
    .div-second{
        padding-bottom: 40px;
        color: #5d5d5d;
    }
    .div-second > p{
        color: #FD5D14;
        font-weight: 600;
        font-size: 18px;
        padding: 5px;
    }
    .div-button{
        margin: 20px;
        background-color: #fff;
        border: 1px solid #FD5D14;
        color: #FD5D14;
        border-radius: 2px;
        padding: 8px;
    }
    .div-button:hover{
        background-color: #FD5D14;
        color: #fff;
        transition: 0.3s;
    }

</style>

    <div class="container">
        {% if session %}
        <h2 class="titles"><span>줄거리</span>가 비슷한 만화</h2>
        <ol class="ol-result">    
            {% for it in its %}
            <li>
                <div class="li-result">
                    <a id="a-result" href="{{it[0][2]}}">
                        <div class="result-contents">
                            <div class="result-image">
                                <img style="width: 100px; height: 100px;" src="{{it[0][3]}}">
                            </div>
                            <div class="result-text">
                                <div class="result-text-title-author">
                                    {{it[0][1]}} | {{it[0][5]}}
                                </div>
                                <div class="result-text-intro">
                                    {{it[0][6]}}
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

            </li>
            {% endfor %}
        </ol>

        <h2 class="titles"><span>그림체</span>가 비슷한 만화</h2>
        <ol class="ol-result">    
            {% for ds in dss %}
            <li>
                <div class="li-result">
                    <a id="a-result" href="{{ds[0][2]}}">
                        <div class="result-contents">
                            <div class="result-image">
                                <img style="width: 100px; height: 100px;" src="{{ds[0][3]}}">
                            </div>
                            <div class="result-text">
                                <div class="result-text-title-author">
                                    {{ds[0][1]}} | {{ds[0][5]}}
                                </div>
                                <div class="result-text-intro">
                                    {{ds[0][6]}}
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

            </li>
            {% endfor %}
        </ol>

        {% if cs==0 %}
        <h2 class="titles"> <span>개발자 추천</span> 만화</h2>
        <p>아직 설문 데이터가 충분하지 않아요 <a href="http://127.0.0.1:5000/input_rate">여기</a> 로 가서 데이터를 쌓아주세요 ! </p>
        {% elif cs==1 %}
        <h2 class="titles">이 웹툰을 <span>좋아하는 사람</span>들이 보는 만화</h2>
        {% else %}
        <span>endend</span>
        {% endif %}
        
        <ol class="ol-result">    
            {% for sv in svs %}
            <li>
                <div class="li-result">
                    <a id="a-result" href="{{sv[0][2]}}">
                        <div class="result-contents">
                            <div class="result-image">
                                <img style="width: 100px; height: 100px;" src="{{sv[0][3]}}">
                            </div>
                            <div class="result-text">
                                <div class="result-text-title-author">
                                    {{sv[0][1]}} | {{sv[0][5]}}
                                </div>
                                <div class="result-text-intro">
                                    {{sv[0][6]}}
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

            </li>
            {% endfor %}
        </ol>

{% else %}
<div class="div-blur-alert">
    <div class="div-first">Alert for Login</div>
    <div class="div-second"><p>로그인이 필요한 서비스 입니다</p>로그인을 하면 모든 내용을 확인할 수 있습니다.</div>
    <button class="div-button" onclick="location.href='/user_login'">로그인</button>
</div>

<h2 class="titles"><span>줄거리</span>가 비슷한 만화</h2>
<ol class="ol-result">  
    <li>
        <div class="li-result">
            <a id="a-result" href="{{its[0][0][2]}}">
                <div class="result-contents">
                    <div class="result-image">
                        <img style="width: 100px; height: 100px;" src="{{its[0][0][3]}}">
                    </div>
                    <div class="result-text">
                        <div class="result-text-title-author">
                            {{its[0][0][1]}} | {{its[0][0][5]}}
                        </div>
                        <div class="result-text-intro">
                            {{its[0][0][6]}}
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </li>  

    <div class="div-blur" style="position: relative;">
        {% for i in range(1,5) %}
        <li class="blur">
            <div class="li-result">
                <div id="a-result" href="{{its[i][0][2]}}">
                    <div class="result-contents">
                        <div class="result-image">
                            <img style="width: 100px; height: 100px;" src="{{its[i][0][3]}}">
                        </div>
                        <div class="result-text">
                            <div class="result-text-title-author">
                                {{its[i][0][1]}} | {{its[i][0][5]}}
                            </div>
                            <div class="result-text-intro">
                                {{its[i][0][6]}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
        </li>


    {% endfor %}
</div>
</ol>

<h2 class="titles"><span>그림체</span>가 비슷한 만화</h2>
<ol class="ol-result"> 
    <li >
        <div class="li-result">
            <a id="a-result" href="{{dss[0][0][2]}}">
                <div class="result-contents">
                    <div class="result-image">
                        <img style="width: 100px; height: 100px;" src="{{dss[0][0][3]}}">
                    </div>
                    <div class="result-text">
                        <div class="result-text-title-author">
                            {{dss[0][0][1]}} | {{dss[0][0][5]}}
                        </div>
                        <div class="result-text-intro">
                            {{dss[0][0][6]}}
                        </div>
                    </div>
                </div>
            </a>
        </div>

    </li>   
    {% for j in range(1,5) %}
    <li class="blur">
        <div class="li-result">
            <div id="a-result" href="{{dss[j][0][2]}}">
                <div class="result-contents">
                    <div class="result-image">
                        <img style="width: 100px; height: 100px;" src="{{dss[j][0][3]}}">
                    </div>
                    <div class="result-text">
                        <div class="result-text-title-author">
                            {{dss[j][0][1]}} | {{dss[j][0][5]}}
                        </div>
                        <div class="result-text-intro">
                            {{dss[j][0][6]}}
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </li>
    {% endfor %}
</ol>

{% if cs==0 %}
<h2 class="titles"> <span>개발자 추천</span> 만화</h2>
<p>아직 설문 데이터가 충분하지 않아요 <a href="http://127.0.0.1:5000/input_rate">여기</a> 로 가서 데이터를 쌓아주세요 ! </p>
{% elif cs==1 %}
<h2 class="titles">이 웹툰을 <span>좋아하는 사람</span>들이 보는 만화</h2>
{% else %}
<span>endend</span>
{% endif %}

<ol class="ol-result">    
    <li>
        <div class="li-result">
            <a id="a-result" href="{{svs[0][0][2]}}">
                <div class="result-contents">
                    <div class="result-image">
                        <img style="width: 100px; height: 100px;" src="{{svs[0][0][3]}}">
                    </div>
                    <div class="result-text">
                        <div class="result-text-title-author">
                            {{svs[0][0][1]}} | {{svs[0][0][5]}}
                        </div>
                        <div class="result-text-intro">
                            {{svs[0][0][6]}}
                        </div>
                    </div>
                </div>
            </a>
        </div>

    </li>
    {% for k in range(1,5) %}
    <li class="blur">
        <div class="li-result">
            <a id="a-result" href="{{svs[k][0][2]}}">
                <div class="result-contents">
                    <div class="result-image">
                        <img style="width: 100px; height: 100px;" src="{{svs[k][0][3]}}">
                    </div>
                    <div class="result-text">
                        <div class="result-text-title-author">
                            {{svs[k][0][1]}} | {{svs[k][0][5]}}
                        </div>
                        <div class="result-text-intro">
                            {{svs[k][0][6]}}
                        </div>
                    </div>
                </div>
            </a>
        </div>

    </li>
    {% endfor %}
</ol>

{% endif %}

{% endblock %}

</div>
